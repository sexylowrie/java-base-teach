#### 名称解释

自动装箱：指基本类型向其包装类自动转换的过程。

自动拆箱：指基本类型的包装类向基本类型自动转换的过程。

#### 问题收集

##### 1.如下程序会输出什么结果？
    
        int x = 1;
        Integer a = 1;
        Integer b = Integer.valueOf(1);
        Integer c = new Integer(1);
        System.out.println("x==a? " + (x == a));
        System.out.println("x==b? " + (x == b));
        System.out.println("x==c? " + (x == c));
        System.out.println("a==b? " + (a == b));
        System.out.println("a==c? " + (a == c));
        System.out.println("b==c? " + (b == c));


##### 2.如下程序会又输出什么结果？

        int y = 128;
        Integer e = 128;
        Integer f = Integer.valueOf(128);
        Integer g = new Integer(128);
        System.out.println("y==e? " + (y == e));
        System.out.println("y==f? " + (y == f));
        System.out.println("y==g? " + (y == g));
        System.out.println("e==f? " + (e == f));
        System.out.println("e==g? " + (e == g));
        System.out.println("f==g? " + (f == g));
        
##### 3.什么时候回触发自动装箱/拆箱？


#### 问题解答

##### 什么时候触发自动装箱
    
    当基本类型被赋值给包装类时会触发自动装箱(JDK1.5+)，调用Integer.valueOf()方法
    例如：
        Integer a = 1；
    
    我们注意到valueOf方法的注释描述到：始终缓存-128~127的值    
##### 什么时候触发自动拆箱
    
    当包装类参与运算时会触发自动拆箱，调用Integer.intValue()方法，因为参与运算时基本类型做的事情。
    
    
#### 验证拆箱/装箱

    使用 javap -c BoxingDemo.class 反编译代码，验证装箱/拆箱
    
    
#### 结果梳理
        
        int x = 1;
        Integer a = 1;//自动装箱
        Integer b = Integer.valueOf(1);
        Integer c = new Integer(1);
        System.out.println("x==a? " + (x == a));//true 自动拆箱
        System.out.println("x==b? " + (x == b));//true 自动拆箱
        System.out.println("x==c? " + (x == c));//true 自动拆箱
        System.out.println("a==b? " + (a == b));//true 永久缓存 -128~127
        System.out.println("a==c? " + (a == c));//false 对象比较引用值
        System.out.println("b==c? " + (b == c));//false 对象比较引用值


        int y = 128;
        Integer e = 128;
        Integer f = Integer.valueOf(128);
        Integer g = new Integer(128);
        System.out.println("y==e? " + (y == e));//true 自动拆箱
        System.out.println("y==f? " + (y == f));//true 自动拆箱
        System.out.println("y==g? " + (y == g));//true 自动拆箱
        System.out.println("e==f? " + (e == f));//false 永久缓存 -128~127
        System.out.println("e==g? " + (e == g));//false 对象比较引用值
        System.out.println("f==g? " + (f == g));//false 对象比较引用值
          
 #### 延伸扩展

        Byte    缓存 -128~127 详见内部类ByteCache
        Short   缓存 -128~127 详见内部类ShortCache
        Integer 缓存 -128~127 详见内部类IntegerCache
        Long    缓存 -128~127 详见内部类LongCache
        Character 缓存 0~127 详见内部类CharacterCache
        Boolean TRUE/FALSE
        Float  无缓存
        Double 无缓存
        
        

    